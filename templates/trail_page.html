{% extends "base.html" %} {% block trail_page %}
<section>
    <!-- flash messages -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="row  ">
                    <h4 class=" deep-orange-text text-darken-2 center-align ">{{ message }}</h4>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
 </section>

<!-- trail Header -->
<section>
  <div class="container">
    <div class="trail-header">
      <img
        class="trail-img"
        src="{{ trail.trail_image }}"
      />
    </div>
    <div class="row">
      <div class="col s12 m6">
        <div class="trail-header">
          {{ trail.trail_name }}
        </div>
        <span class="trail-county">{{ trail.trail_county }}</span>
        <span class="trail-category">{{ trail.trail_category }}</span>
        <div>
          <span><i class="trail-stars fas fa-star"></i></span>
          <span><i class="trail-stars fas fa-star"></i></span>
          <span><i class="trail-stars fas fa-star"></i></span>
          <span><i class="trail-stars fas fa-star-half-alt"></i></span>
          <span><i class="trail-stars far fa-star"></i></span>
        </div>
        <div>
          <span class="trail-state-key">Completed</span>
          <span class="hiker-state-value">3</span>
          <span class="trail-state-key">Planing</span>
          <span class="hiker-state-value">2</span>
        </div>
        <div>
          <span class="trail-state-key">Length</span>
          <span class="trail-state-value">{{ trail.length }}</span>
          <span class="trail-state-key">Est. Time</span>
          <span class="trail-state-value">{{ trail.est_time }}</span>
        </div>
        <div class="trail-description-div">
          <p class="trail-description">
          {{ trail.description }}
          </p>
        </div>
        <!-- ======================================================================================= -->
        <a href="#add_trail" class=" modal-trigger" >
        <span class="hiker-state-value"> Add the Trail <i class="fas fa-plus-circle"></i></span>
        </a>
      <!-- "Add a trail" form -->
        <div id="add_trail" class="modal">
            <div class="modal-content">
                <div class="row">
                <!-- Only loged in user can add a trail , if not redirct to login form-->
                {% if session.name %}
                <!-- Add a trail to plan or mark as completed-->
                <a href="#planning_trail" class="modal-close modal-trigger" >
                <span class="hiker-state-value"> Add to Plan <i class="fas fa-plus-circle"></i></span>
                </a>
                <a href="#completed_trail" class="modal-close modal-trigger" >
                <span class="hiker-state-value"> Mark as completed <i class="fas fa-plus-circle"></i></span>
                </a>
                {% else %}
                    <div>you need to login to add the Trail</div>
                    <a href="#login_modal_main" class="waves-effect deep-orange lighten-2 btn modal-trigger">Log IN</a>
                {% endif %}
                </div>
            </div>
        </div>
        <!-- Add to plan Modal  -->
        <div id="planning_trail" class="modal">
            <div class="modal-content">
                <div class="row">
                <form class="col s12" method="POST" action="{{ url_for('planning_trail', trail_id=trail._id) }}">
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="plan_header" name="plan_header" type="text" class="validate">
                            <label for="plan_header">Plan Header </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <textarea id="plan_post" name="plan_post" class="materialize-textarea"></textarea>
                            <label for="plan_post">Write about your plan ..</label>
                        </div>
                    </div>
                <!-- Submit Btn-->
                    <div class="row">
                        <button type="submit" class="modal-close waves-effect waves-light btn green lighten-2 modal-trigger" >Submit</button>
                    </div>
                </form>
                </div>
            </div>
        </div>
        <!-- Mark as completed Modal -->
        <div id="completed_trail" class="modal">
            <div class="modal-content">
                <div class="row">
                <form class="col s12" method="POST" action="{{ url_for('completed_trail', trail_id=trail._id) }}">
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="review_header" name="review_header" type="text" class="validate">
                            <label for="review_header">Review Header </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                        <!-- Rating Stars -->
                            <input id="review_rating" name="review_rating" type="text" class="validate">
                            <label for="review_rating">rating</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <textarea id="review_post" name="review_post" class="materialize-textarea"></textarea>
                            <label for="review_post">Write your review </label>
                        </div>
                    </div>
                    <!-- Submit Btn-->
                    <div class="row">
                        <button type="submit" class="modal-close waves-effect waves-light btn green lighten-2 modal-trigger" >Submit</button>
                    </div>
                </form>
                </div>
            </div>
        </div>
        <!-- ======================================================================================= -->
      </div>
      <div class="col s12 m6">
        <img
          class="trail-map"
          src="https://emerald-heritage.com/assets/img/hero/Screen-Shot-2018-04-06-at-12.37.00.png"
        />
      </div>
    </div>
  </div>
</section>

<!-- Trail Gallery -->
<section>
  <div class="container">
    <div class="owl-carousel">
      <img
        class="hiker-gallery-img materialboxed"
        src="https://cdn.pixabay.com/photo/2016/03/09/09/43/person-1245959_960_720.jpg"
      />
      <img
        class="hiker-gallery-img materialboxed"
        src="https://cdn.pixabay.com/photo/2017/02/26/11/57/mountaineer-2100050_960_720.jpg"
      />
      <img
        class="hiker-gallery-img materialboxed"
        src="https://cdn.pixabay.com/photo/2017/06/21/13/20/mountain-climber-2427191_960_720.jpg"
      />
      <img
        class="hiker-gallery-img materialboxed"
        src="https://cdn.pixabay.com/photo/2014/03/26/21/00/climber-299018_960_720.jpg"
      />
      <img
        class="hiker-gallery-img materialboxed"
        src="https://cdn.pixabay.com/photo/2015/06/08/15/29/mountain-climbing-802099_960_720.jpg"
      />
      <img
        class="hiker-gallery-img materialboxed"
        src="https://cdn.pixabay.com/photo/2015/11/07/11/55/hiking-1031628_960_720.jpg"
      />
    </div>
  </div>
</section>

<!-- Trail Reviews -->
<section>
  <div class="container">
    <ul class="collapsible">
    {% for review in reviews %}
      <li>
        <div class="collapsible-header">
          <div class="col s12 m8 offset-m2 l6 offset-l3">
            <div class="card-panel">
              <div class="row">
                <div class="col s12 m4">
                  <img
                    class="review-card-img"
                    src="https://dynaimage.cdn.cnn.com/cnn/c_fill,g_auto,w_1200,h_675,ar_16:9/https%3A%2F%2Fcdn.cnn.com%2Fcnnnext%2Fdam%2Fassets%2F191109234431-california-hiker-mountain-top.jpg"
                  />
                  <div class="hiker-name">{{ review.post_by }}</div>
                  <div class="hiker-state">
                    <span class="hiker-state-key">Completed</span>
                    <span class="hiker-state-value">4</span>
                    <span class="hiker-state-key">Planing</span>
                    <span class="hiker-state-value">2</span>
                  </div>
                  <div class="container">
                {% if review.trail_status == "completed" %}
                    <span><i class="fas fa-check-circle completed-icon"></i>Completed</span>
                {% else %}
                    <span><i class="fas fa-plus-circle plan-icon"></i> Planning</span>
                {% endif %}
                  </div>
                </div>
                <div class="col s12 m8 review-header">
                {% if review.trail_status == "completed" %}
                  <div class="container review-stars-div">
                    <span><i class="trail-stars fas fa-star"></i></span>
                    <span><i class="trail-stars fas fa-star"></i></span>
                    <span><i class="trail-stars fas fa-star"></i></span>
                    <span
                      ><i class="trail-stars fas fa-star-half-alt"></i
                    ></span>
                    <span><i class="trail-stars far fa-star"></i></span>
                  </div>
                  <div class="container trail-review-header">
                    {{ review.review_header}}
                  </div>
                  <p class="trail-review-para">
                    {{ review.review_post }}
                  </p>
                {% else %}
                  <div class="container trail-review-header">
                    {{ review.plan_header}}
                  </div>
                  <p class="trail-review-para">
                    {{ review.plan_post }}
                  </p>
                {% endif %}
                  <a class="btn deep-orange lighten-2 trail-action-btn"
                    >comments <i class="fas fa-caret-down"></i
                  ></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="collapsible-body">
          <div class="col s12 m8 offset-m2 l6 offset-l3">
            <div class="card-panel">
              <div class="row">
                <div class="col s12 m4">
                  <img
                    class="review-card-img"
                    src="https://s.abcnews.com/images/US/komins-missing-hiker-ho-mo-20190817_hpMain_16x9_1600.jpg"
                  />
                  <div class="hiker-name">{ Hiker Name }</div>
                  <div class="hiker-state">
                    <span class="hiker-state-key">Completed</span>
                    <span class="hiker-state-value">4</span>
                    <span class="hiker-state-key">Planing</span>
                    <span class="hiker-state-value">2</span>
                  </div>
                </div>
                <p class="trail-review-para">
                  Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                  Excepturi nesciunt necessitatibus, nam at voluptate quod
                  dolore doloremque! Quam dolore porro aliquam exercitationem
                  temporibus quidem sequi nulla est hic iure quis praesentium
                  illo modi voluptates tenetur, quae dolor excepturi ex vero
                  voluptatibus iste accusantium similique. Nisi obcaecati quam
                  dolores sapiente perferendis?
                </p>
              </div>
            </div>
          </div>
            <a class="btn green lighten-2 trail-action-btn">Add comment </a>
        </div>
      </li>
    {% endfor %}
    </ul>
  </div>

    <!-- <div class="container">
    <ul class="collapsible">
      <li>
        <div class="collapsible-header">
          <div class="col s12 m8 offset-m2 l6 offset-l3">
            <div class="card-panel">
              <div class="row">
                <div class="col s12 m4">
                  <img
                    class="review-card-img"
                    src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTfptErL5HRx01jgXwJrklaRx1DwZMIGZvFSw&usqp=CAU"
                  />
                  <div class="hiker-name">{ Hiker Name }</div>
                  <div class="hiker-state">
                    <span class="hiker-state-key">Completed</span>
                    <span class="hiker-state-value">3</span>
                    <span class="hiker-state-key">Planing</span>
                    <span class="hiker-state-value">5</span>
                  </div>
                  <div class="container">
                    <span
                      ><i class="fas fa-check-circle completed-icon"></i
                      >Completed</span
                    >
                    <span
                      ><i class="fas fa-plus-circle plan-icon"></i> Plan
                      to</span
                    >
                  </div>
                </div>
                <div class="col s12 m8 review-header">
                  <div class="container review-stars-div">
                    <span><i class="trail-stars fas fa-star"></i></span>
                    <span><i class="trail-stars fas fa-star"></i></span>
                    <span><i class="trail-stars fas fa-star"></i></span>
                    <span
                      ><i class="trail-stars fas fa-star"></i
                    ></span>
                    <span><i class="trail-stars far fa-star"></i></span>
                  </div>
                  <div class="container trail-review-header">
                    Lorem ipsum dolor sit amet, consectetur adipisicing
                  </div>
                  <p class="trail-review-para">
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                    Excepturi nesciunt necessitatibus, nam at voluptate quod
                    dolore doloremque! Quam dolore porro aliquam exercitationem
                    temporibus quidem
                  </p>
                  <a class="btn deep-orange lighten-2 trail-action-btn"
                    >comments <i class="fas fa-caret-down"></i
                  ></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="collapsible-body">
          <div class="col s12 m8 offset-m2 l6 offset-l3">
            <div class="card-panel">
              <div class="row">
                <div class="col s12 m4">
                  <img
                    class="review-card-img"
                    src="https://s.abcnews.com/images/US/komins-missing-hiker-ho-mo-20190817_hpMain_16x9_1600.jpg"
                  />
                  <div class="hiker-name">{ Hiker Name }</div>
                  <div class="hiker-state">
                    <span class="hiker-state-key">Completed</span>
                    <span class="hiker-state-value">4</span>
                    <span class="hiker-state-key">Planing</span>
                    <span class="hiker-state-value">2</span>
                  </div>
                </div>
                <p class="trail-review-para">
                  Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                  Excepturi nesciunt necessitatibus, nam at voluptate quod
                  dolore doloremque! Quam dolore porro aliquam exercitationem
                  temporibus quidem sequi nulla est hic iure quis praesentium
                  illo modi voluptates tenetur, quae dolor excepturi ex vero
                  voluptatibus iste accusantium similique. Nisi obcaecati quam
                  dolores sapiente perferendis?
                </p>
              </div>
            </div>
          </div>
                <a class="btn green lighten-2 trail-action-btn">Add comment </a>
        </div>
      </li>
    </ul>
  </div>
  <div class="container">
    <ul class="collapsible">
      <li>
        <div class="collapsible-header">
          <div class="col s12 m8 offset-m2 l6 offset-l3">
            <div class="card-panel">
              <div class="row">
                <div class="col s12 m4">
                  <img
                    class="review-card-img"
                    src="https://amp.thenationalnews.com/image/policy:1.888870:1564114189/na21-dead-hiker.JPG?f=16x9&w=1200&$p$f$w=8dfcb3e"
                  />
                  <div class="hiker-name">{ Hiker Name }</div>
                  <div class="hiker-state">
                    <span class="hiker-state-key">Completed</span>
                    <span class="hiker-state-value">4</span>
                    <span class="hiker-state-key">Planing</span>
                    <span class="hiker-state-value">2</span>
                  </div>
                  <div class="container">
                    <span
                      ><i class="fas fa-check-circle completed-icon"></i
                      >Completed</span
                    >
                    <span
                      ><i class="fas fa-plus-circle plan-icon"></i> Plan
                      to</span
                    >
                  </div>
                </div>
                <div class="col s12 m8 review-header">
                  <div class="container review-stars-div">
                    <span><i class="trail-stars fas fa-star"></i></span>
                    <span><i class="trail-stars fas fa-star"></i></span>
                    <span><i class="trail-stars fas fa-star"></i></span>
                    <span
                      ><i class="trail-stars fas fa-star"></i
                    ></span>
                    <span><i class="trail-stars fas fa-star"></i></span>
                  </div>
                  <div class="container trail-review-header">
                    Lorem ipsum dolor sit amet
                  </div>
                  <p class="trail-review-para">
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                    Excepturi nesciunt necessitatibus, nam at voluptate quod
                    dolore doloremque! Quam dolore porro aliquam exercitationem
                    temporibus quidem sequi nulla est hic iure quis praesentium
                    illo modi voluptates tenetur, quae dolor excepturi ex vero
                    voluptatibus iste accusantium similique. Nisi obcaecati quam
                    dolores sapiente perferendis?
                     tenetur, quae dolor excepturi ex vero
                    voluptatibus iste accusantium similique. Nisi obcaecati quam
                    dolores sapiente perferendis?
                  </p>
                  <a class="btn deep-orange lighten-2 trail-action-btn"
                    >comments <i class="fas fa-caret-down"></i
                  ></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="collapsible-body">
          <div class="col s12 m8 offset-m2 l6 offset-l3">
            <div class="card-panel">
              <div class="row">
                <div class="col s12 m4">
                  <img
                    class="review-card-img"
                    src="https://cdn.shopify.com/s/files/1/0071/6197/0786/products/0640274_0640277_Halti_Hiker_Womens_Drymaxx_Outdoor_Jacket_mood_4_34c51e10-4781-4cc6-bc0a-8f556c1009ba_2000x.jpg?v=1584995873"
                  />
                  <div class="hiker-name">{ Hiker Name }</div>
                  <div class="hiker-state">
                    <span class="hiker-state-key">Completed</span>
                    <span class="hiker-state-value">4</span>
                    <span class="hiker-state-key">Planing</span>
                    <span class="hiker-state-value">2</span>
                  </div>
                </div>
                <p class="trail-review-para">
                  Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                  Excepturi nesciunt necessitatibus, nam at voluptate quod
                  dolore doloremque! Quam dolore porro aliquam exercitationem
                  temporibus quidem sequi nulla 
                </p>
              </div>
            </div>
          </div>
                <a class="btn green lighten-2 trail-action-btn">Add comment </a>
        </div>
      </li>
    </ul>
  </div> -->
</section>


<!-- More trails -->

<section>
  <div class="container">
    <div class="cta-header">Find your next trail..</div>
    <div class="slider owl-carousel more-trail-slider">
      <a href="#" class="more-trails-cards-link">
        <div class="card more-trail-card">
          <div>
            <img
              class="more-trail-image"
              src="https://cdn.pixabay.com/photo/2019/05/16/18/51/cliffs-of-moher-4207875_960_720.jpg"
            />
          </div>
          <div class="trail-btm-div">
            <div class="trail-header trail-btm-info">
              Carrauntoohil Mountain
            </div>
            <div>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star-half-alt"></i></span>
              <span><i class="trail-stars far fa-star"></i></span>
            </div>
            <span class="trail-state-key trail-btm-info">Length</span>
            <span class="trail-state-value trail-btm-info">14.5 km</span>
            <span class="trail-state-key trail-btm-info">Est. Time</span>
            <span class="trail-state-value trail-btm-info">5.5 hours</span>
          </div>
        </div>
      </a>
      <a href="#" class="more-trails-cards-link">
        <div class="card more-trail-card">
          <div>
            <img
              class="more-trail-image"
              src="https://cdn.pixabay.com/photo/2019/05/16/18/51/cliffs-of-moher-4207875_960_720.jpg"
            />
          </div>
          <div class="trail-btm-div">
            <div class="trail-header trail-btm-info">
              Carrauntoohil Mountain
            </div>
            <div>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star-half-alt"></i></span>
              <span><i class="trail-stars far fa-star"></i></span>
            </div>
            <span class="trail-state-key trail-btm-info">Length</span>
            <span class="trail-state-value trail-btm-info">14.5 km</span>
            <span class="trail-state-key trail-btm-info">Est. Time</span>
            <span class="trail-state-value trail-btm-info">5.5 hours</span>
          </div>
        </div>
      </a>
      <a href="#" class="more-trails-cards-link">
        <div class="card more-trail-card">
          <div>
            <img
              class="more-trail-image"
              src="https://cdn.pixabay.com/photo/2019/05/16/18/51/cliffs-of-moher-4207875_960_720.jpg"
            />
          </div>
          <div class="trail-btm-div">
            <div class="trail-header trail-btm-info">
              Carrauntoohil Mountain
            </div>
            <div>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star-half-alt"></i></span>
              <span><i class="trail-stars far fa-star"></i></span>
            </div>
            <span class="trail-state-key trail-btm-info">Length</span>
            <span class="trail-state-value trail-btm-info">14.5 km</span>
            <span class="trail-state-key trail-btm-info">Est. Time</span>
            <span class="trail-state-value trail-btm-info">5.5 hours</span>
          </div>
        </div>
      </a>
      <a href="#" class="more-trails-cards-link">
        <div class="card more-trail-card">
          <div>
            <img
              class="more-trail-image"
              src="https://cdn.pixabay.com/photo/2019/05/16/18/51/cliffs-of-moher-4207875_960_720.jpg"
            />
          </div>
          <div class="trail-btm-div">
            <div class="trail-header trail-btm-info">
              Carrauntoohil Mountain
            </div>
            <div>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star"></i></span>
              <span><i class="trail-stars fas fa-star-half-alt"></i></span>
              <span><i class="trail-stars far fa-star"></i></span>
            </div>
            <span class="trail-state-key trail-btm-info">Length</span>
            <span class="trail-state-value trail-btm-info">14.5 km</span>
            <span class="trail-state-key trail-btm-info">Est. Time</span>
            <span class="trail-state-value trail-btm-info">5.5 hours</span>
          </div>
        </div>
      </a>
    </div>
    <div class="more-div">
        <a class="waves-effect waves-light btn deep-orange lighten-2" href="#">All Trails</a>
    </div>
  </div>
</section>


<!-- Join Our Community Section / CTA Sign up Form-->
<section>
  <div class="container">
    <div class="cta-header">Join our Community ..</div>
    <!-- Sign up Modal Trigger -->
    <div class="sign-up-btn">
      <a
        class="waves-effect waves-light btn deep-orange lighten-2 modal-trigger"
        href="#signupform"
        >Sign Up</a
      >
    </div>
    <!-- Sign up Modal Form -->
    <div id="signupform" class="modal">
      <div class="modal-content">
        <div class="modal-header">Join HIKINIE</div>
        <!-- <div class="row">
        {% with messages = get_flashed_messages() %}
           {% if messages %}
                {% for message in messages %}
                    <div class="row ">
                        <h4 class="light-blue lighten-4 center-align">{{ message }}</h4>
                    </div>
                {% endfor %}
            {% endif %} 
        {% endwith %}
        </div> -->
        <div class="row">
          <form class="col s12" method="POST" action="{{ url_for('signup') }}">
            <div class="row">
              <div class="input-field col s12">
                <input placeholder="Name" id="name" name="name" type="text" class="validate"/>
                <label for="name">Name</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input placeholder="Email" id="email" name="email" type="email" class="validate"/>
                <label for="email">Email</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input placeholder="password" id="password" name="password" type="password" class="validate"/>
                <label for="password">Password</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input placeholder="Confirm Password" id="password2" name="password2" type="password" class="validate" />
                <label for="password_confirmation">Confirm Password</label>
              </div>
            </div>
            <div class="sign-up-btn">
              <button type="submit" class="modal-close waves-effect waves-light btn deep-orange lighten-2 modal-trigger">Sign Up</button>
            </div>
            <a class="modal-close modal-trigger" href="#modal2"
              >Already Signed ..Login here
            </a>
          </form>
        </div>
      </div>
    </div>
    <!-- Login Modal Form -->
    <div id="modal2" class="modal">
      <div class="modal-content">
        <div class="modal-header">Login</div>
        <div class="row">
          <form class="col s12">
            <div class="row">
              <div class="input-field col s12">
                <input
                  placeholder="Email"
                  id="email"
                  type="email"
                  class="validate"
                />
                <label for="email">Email</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input
                  placeholder="password"
                  id="password"
                  type="password"
                  class="validate"
                />
                <label for="password">Password</label>
              </div>
            </div>

            <div class="sign-up-btn">
              <a
                href="#!"
                class="modal-close waves-effect waves-light btn deep-orange lighten-2 modal-trigger"
                >Login</a
              >
            </div>
            <a class="modal-close modal-trigger" href="#modal1"
              >Not Signed yet .. sign up here
            </a>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Parallax  -->
<div class="parallax-container">
    <div class="parallax"><img src="https://cdn.pixabay.com/photo/2016/03/09/16/46/hiking-1246836_960_720.jpg"></div>
</div>
{% endblock %}
